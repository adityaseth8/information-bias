{{ block title }}
    Choice Game
{{ endblock }}

{{ block content }}
    
    <div class="header" style="text-align: right;">
        <p><b>Current Choice:</b> ${{player.wallet}}, {{player.task}} as task</p>
        <p id="countdown"></p>
    </div>

    <div class="choice">
        <p>Alternative Choice: ${{player.altChoice}}, {{player.altTask}} as task</p>
    </div>

    {{formfields}}

    {{include_sibling 'Instructions.html'}}

	<script>
		// Set the timer duration in seconds
		const timerDuration = 60;

		// Get the countdown element from the HTML page
		const countdownElement = document.getElementById('countdown');

		// Start the countdown timer
		let timer = timerDuration;
		const interval = setInterval(() => {
			// Update the countdown element with the remaining time
			countdownElement.innerText = `Time remaining: ${timer} seconds`;

			// Decrement the timer
			timer--;

			// Check if the timer has expired
			if (timer < 0) {
				clearInterval(interval);
				countdownElement.innerText = 'Time is up!';
                // go to results page
			}
		}, 1000); // Set the interval to 1 second
	</script>


    <!-- <script>
        function genChoice(){
            $.getScript('gen_choice', function() {
            $('#altChoice').text('{{ player.altChoice }}');
            $('#altTask').text('{{ player.altTask }}');
    });
        }
    </script> -->


    {{ next_button }}
{{ endblock }}


