{{ block title }}
    Choice Game
{{ endblock }}

{{ block content }}
    <div class="choice" style="display: block;">
        <div class="header" style="text-align: right;">
            <p><b>Current Choice:</b> ${{player.wallet}}, {{player.task}} as task</p>
            <p id="countdown"></p>
        </div>

        <p>Alternative Choice: ${{player.altChoice}}, {{player.altTask}} as task</p>

        <p>Which option would you like to choose?</p>
        <select id="choice-select">
            <option value="">--Please choose an option--</option>
            <option value="curr">Keep Current Choice, Generate New Choice</option>
            <option value="alt">Alternative Choice</option>
        </select>   <br>
        <button onclick="submitChoice()">Submit</button>
    </div>

    <div class="task" style="display: none;">
        <p>Task:</p>
        <p id="task-sentence"></p>
        <input type="text" id="user-input">
        <button onclick="checkSentence()">Enter</button>
    </div>

    <script>
        console.log("here")
        var userChoice = false;
        var correctSentence = "";

        function generateSentence() {
            var sentences = [
                "Steph Curry is kinda goated",
                "The quick brown fox jumps over the lazy dog.",
                "She sells seashells by the seashore.",
                "How much wood would a woodchuck chuck, if a woodchuck could chuck wood?",
            ];
            // generate num between 0 and 1, multiply by length of sentences array, round down to whole number
            var sentenceIndex = Math.floor(Math.random() * sentences.length);
            document.getElementById("generated-sentence").innerHTML = sentences[sentenceIndex];
        }

        // curr vs alt 
        function submitChoice(player) {
            console.log("here2")
            var selectBox = document.getElementById("choice-select");
            userChoice = selectBox.options[selectBox.selectedIndex].value;
            alert(userChoice);
            if (userChoice == "curr") {
                document.getElementById("choice").style.display = "block";
                document.getElementById("task").style.display = "none";
            } else if (userChoice == "alt") {
                // player.wallet = player.altChoice;  // ISSUE here reading altChoice (undefined)
                // player.task = player.altTask;
                console.log(player.altTask)
                console.log(player.altChoice)
                console.log("hiiiii")
                console.log("Player's wallet: " + player.wallet);
                console.log("Player's task: " + player.task);
                document.getElementById("choice").style.display = "none";
                document.getElementById("task").style.display = "block";
                // generateSentence();
            }
        }

        function checkSentence() {
            var generatedSentence = document.getElementById("generated-sentence").innerHTML;
            var inputSentence = document.getElementById("input-sentence").value;
            if (generatedSentence == inputSentence) {
                document.getElementById("choice").style.display = "block";
                document.getElementById("task").style.display = "none";
            } else {
                alert("The sentences do not match.");
            }
        }

        // Set the timer duration in seconds
		const timerDuration = 60;

        // Get the countdown element from the HTML page
        const countdownElement = document.getElementById('countdown');

        // Start the countdown timer
        let timer = timerDuration;
        const interval = setInterval(() => {
            // Update the countdown element with the remaining time
            countdownElement.innerText = `Time remaining: ${timer} seconds`;

            // Decrement the timer
            timer--;

            // Check if the timer has expired
            if (timer < 0) {
                clearInterval(interval);
                countdownElement.innerText = 'Time is up!';
                // go to results page 
            } 
        }, 1000);
    </script>




    // <!-- {{formfields}} -->

    {{include_sibling 'Instructions.html'}}


<<<<<<< HEAD
    // <!-- <script>
    //     function genChoice(){
    //         $.getScript('gen_choice', function() {
    //         $('#altChoice').text('{{ player.altChoice }}');
    //         $('#altTask').text('{{ player.altTask }}');
    // });
    //     }
    // </script> -->
=======
		// Get the countdown element from the HTML page
		const countdownElement = document.getElementById('countdown');

		// Start the countdown timer
		let timer = timerDuration;
		const interval = setInterval(() => {
			// Update the countdown element with the remaining time
			countdownElement.innerText = `Time remaining: ${timer} seconds`;

			// Decrement the timer
			timer--;

			// Check if the timer has expired
			if (timer < 0) {
				clearInterval(interval);
				countdownElement.innerText = 'Time is up!';
			}
		}, 1000); // Set the interval to 1 second
	</script>
>>>>>>> parent of 6d75457 (Added game processing function to update current wallet and tasks. Not working rip)


    // <!-- {{ next_button }} -->
{{ endblock }}


